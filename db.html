<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>無標題文件</title>
<script type="text/javascript">
function dbinsert(){
	var tt1 = document.getElementById("tt1").value;
	var db = openDatabase('mydb', '1.0', 'my first database', 2 * 1024 * 1024);
	db.transaction(function (tx) {
	  tx.executeSql('CREATE TABLE IF NOT EXISTS contact (id INTEGER PRIMARY KEY, name TEXT)');
	  tx.executeSql('INSERT INTO contact (name) VALUES ("' + tt1 + '")');
	});
}

function dbselect(){
	var db = openDatabase('mydb', '1.0', 'my first database', 2 * 1024 * 1024);
	db.transaction(function (tx) {
		tx.executeSql('SELECT * FROM contact', [], function (tx, results) {
			var len = results.rows.length;
			for (var i = 0; i < len; i++) {
				alert(results.rows.item(i).id + "," + results.rows.item(i).name);
			}
		});
	});
}

function dbdelete(){
	var tt2 = document.getElementById("tt2").value;
	var db = openDatabase('mydb', '1.0', 'my first database', 2 * 1024 * 1024);
	db.transaction(function (tx) {
		tx.executeSql('DELETE FROM contact WHERE id=' + tt2);
	});
}

</script>
</head>
<body>
<table>
<tbody>
<tr>
<td>Name:</td>
<td><input type="text" id="tt1"/></td>
<td><input type="button" value="insert" onclick="dbinsert()"/></td>
</tr>
<tr>
<td>ID:</td>
<td><input type="text" id="tt2"/></td>
<td><input type="button" value="delete" onclick="dbdelete()"/></td>
</tr>
<tr>
<td><input type="button" value="select" onclick="dbselect()"/></td>
</tr>
</tbody>
</table>
</body>
</html>
